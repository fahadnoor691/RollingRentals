<%- include('../includes/header') %>

  <body>
    <link rel="stylesheet" href="/css/form.css" />

    <h1>Car Details Form</h1>
    <div class="form-container">
      <form action="/owner/<% if (editing) { %>edit-car<% } else { %>add-car<% } %>" method="POST">
        
        <div class="form-group">
          <label for="brand">Car Brand:</label>
          <select id="brand" name="brand" required>
            <option value="Select" <% if (!editing) { %>selected<% } %>>Select</option>
            <option value="Honda" <% if (editing && Cars.brand === 'Honda') { %>selected<% } %>>Honda</option>
            <option value="Toyota" <% if (editing && Cars.brand === 'Toyota') { %>selected<% } %>>Toyota</option>
            <option value="Hyundai" <% if (editing && Cars.brand === 'Hyundai') { %>selected<% } %>>Hyundai</option>
            <option value="KIA" <% if (editing && Cars.brand === 'KIA') { %>selected<% } %>>KIA</option>
            <option value="Haval" <% if (editing && Cars.brand === 'Haval') { %>selected<% } %>>Haval</option>
            <option value="Peugeot" <% if (editing && Cars.brand === 'Peugeot') { %>selected<% } %>>Peugeot</option>
            <option value="MG" <% if (editing && Cars.brand === 'MG') { %>selected<% } %>>MG</option>
            <option value="Suzuki" <% if (editing && Cars.brand === 'Suzuki') { %>selected<% } %>>Suzuki</option>
          </select>

        </div>


        <div class="form-group">
          <label for="name">Car Name:</label>
          <input type="text" id="name" name="name" value="<% if(editing){ %><%= Cars.name %><% } %>" required/>
        </div>

        <div class="form-group">
          <label for="model">Car Model:</label>
          <select id="model" name="model" required>
            <option value="Select" <% if (!editing) { %>selected<% } %>>Select</option>
            <option value="2023" <% if (editing && Cars.model === '2023') { %>selected<% } %>>2023</option>
            <option value="2022" <% if (editing && Cars.model === '2022') { %>selected<% } %>>2022</option>
            <option value="2021" <% if (editing && Cars.model === '2021') { %>selected<% } %>>2021</option>
            <option value="2020" <% if (editing && Cars.model === '2020') { %>selected<% } %>>2020</option>
            <option value="2019" <% if (editing && Cars.model === '2019') { %>selected<% } %>>2019</option>
            <option value="2018" <% if (editing && Cars.model === '2018') { %>selected<% } %>>2018</option>
            <option value="2017" <% if (editing && Cars.model === '2017') { %>selected<% } %>>2017</option>
            <option value="2016" <% if (editing && Cars.model === '2016') { %>selected<% } %>>2016</option>
            <option value="2015" <% if (editing && Cars.model === '2015') { %>selected<% } %>>2015</option>
            <option value="2014" <% if (editing && Cars.model === '2014') { %>selected<% } %>>2014</option>
            <option value="2013" <% if (editing && Cars.model === '2013') { %>selected<% } %>>2013</option>
            <option value="2012" <% if (editing && Cars.model === '2012') { %>selected<% } %>>2012</option>
            <option value="2011" <% if (editing && Cars.model === '2011') { %>selected<% } %>>2011</option>
          </select>

        </div>

        <div class="form-group">
          <label for="price">Price:</label>
          <input type="text" id="price" name="price" value="<% if(editing){ %><%= Cars.price %><% } %>" required />
        </div>

        <div class="form-group">
          <label for="transmission">Transmission:</label>
          <select id="transmission" name="transmission" required>
            <option value="Select" <% if (!editing) { %>selected<% } %>>Select</option>
            <option value="Automatic" <% if (editing && Cars.transmission === 'Automatic') { %>selected<% } %>>Automatic</option>
            <option value="Manual" <% if (editing && Cars.transmission === 'Manual') { %>selected<% } %>>Manual</option>
          </select>

        </div>

        <div class="form-group">
          <label for="mileage">Mileage:</label>
          <input type="text" id="mileage" name="mileage" value="<% if(editing){ %><%= Cars.mileage %><% } %>" required />
        </div>

        <div class="form-group">
          <label for="seats">Seats:</label>
          <input type="text" id="seats" name="seats" value="<% if(editing){ %><%= Cars.seats %><% } %>" required />
        </div>

        <div class="form-group">
          <label for="cartype">Car Type:</label>
          <select id="cartype" name="cartype" required>
            <option value="Select" <% if (!editing) { %>selected<% } %>>Select</option>
            <option value="Sedan" <% if (editing && Cars.carType === 'Sedan') { %>selected<% } %>>Sedan</option>
            <option value="Hatchback" <% if (editing && Cars.carType === 'Hatchback') { %>selected<% } %>>Hatchback</option>
            <option value="SUV" <% if (editing && Cars.carType === 'SUV') { %>selected<% } %>>SUV</option>
            <option value="Micro" <% if (editing && Cars.carType === 'Micro') { %>selected<% } %>>Micro</option>
            <option value="Van" <% if (editing && Cars.carType === 'Van') { %>selected<% } %>>Van</option>
          </select>

        </div>

        <div class="form-group">
          <label for="image">Image:</label>
          <input type="text" id="image" name="image" value="<% if(editing){ %><%= Cars.image %><% } %>" required />
        </div>

        <div class="form-group">
          <label for="location">Select Nearest Area:</label>
          <select id="location" name="location" required>
            <option value="Select" <% if (!editing) { %>selected<% } %>>Select</option>
            <option value="airport" <% if (editing && Cars.location === 'airport') { %>selected<% } %>>Airport</option>
            <option value="gulberg" <% if (editing && Cars.location === 'gulberg') { %>selected<% } %>>Gulberg</option>
            <option value="model" <% if (editing && Cars.location === 'modeltown') { %>selected<% } %>>Model Town</option>
            <option value="wapda" <% if (editing && Cars.location === 'wapdatown') { %>selected<% } %>>Wapda Town</option>
            <option value="bahria" <% if (editing && Cars.location === 'bahria') { %>selected<% } %>>Bahria</option>
          </select>

          <% if (editing) { %>
                <input type="hidden" value="<%= Cars._id %>" name="carId">
            <% } %>
          <input type="hidden" name="_csrf" value="<%= csrfToken %>">
        <div class="form-group">
          <input type="submit" value="Submit" />
        </div>
      </form>
    </div>
  </body>
</html>
